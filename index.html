<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Campus Connect — Spring 2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --card-w: 240px;
      --card-h: 160px;
      --gap: 12px;

      --x-color: rgba(220, 20, 60, 0.35);
      --x-thickness: 10px;

      --bg: #111418;
      --ink: #e8eef5;
      --muted: #a7b2c2;
      --accent: #f28b50;
      --ring: rgba(242,139,80,0.25);
    }

    html, body { margin: 0; background: var(--bg); color: var(--ink); font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans"; }

    header{
      max-width: 1400px;
      margin: 16px auto 8px;
      padding: 8px 12px;
      line-height: 1.25;
    }
    header h1{ margin: 0 0 6px 0; font-size: clamp(18px, 2vw, 22px); font-weight: 700; letter-spacing: 0.2px; }
    header p{ margin: 0; color: var(--muted); font-size: 13px; }

    .fit-wrap{ width: 100%; display: flex; justify-content: center; }
    .fit-scale{ transform-origin: top center; display: inline-block; }

    .grid {
      display: grid;
      grid-template-columns: repeat(var(--cols, 5), var(--card-w));
      gap: var(--gap);
      margin: 8px auto 28px;
      padding: 0 8px 8px;
      box-sizing: border-box;
      justify-content: center;
    }

    .card {
      position: relative;
      width: var(--card-w);
      height: var(--card-h);
      box-sizing: border-box;
      border-radius: 12px;
      background: #1a1f25;
      border: 1px solid #212832;
      padding: 12px 12px 10px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease;
    }
    .card:hover{
      transform: translateY(-1px);
      border-color: var(--ring);
      box-shadow: 0 0 0 3px var(--ring);
    }
    .card:focus-visible{
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(242,139,80,0.4);
    }

    .title {
      font-weight: 700;
      font-size: 18px;
      margin: 0 0 8px 0;
      line-height: 1.2;
    }
    .when {
      font-size: 15.75px;
      color: var(--muted);
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .label {
      font-variant-numeric: tabular-nums;
      background: #0f1317;
      border: 1px solid #1e252e;
      padding: 3px 8px;
      border-radius: 6px;
    }

    .card::before,
    .card::after{
      content: "";
      position: absolute;
      left: 50%;
      top: 50%;
      width: 160%;
      height: var(--x-thickness);
      background: var(--x-color);
      transform-origin: center;
      opacity: 0;
      pointer-events: none;
    }
    .card::before{ transform: translate(-50%, -50%) rotate(45deg); }
    .card::after { transform: translate(-50%, -50%) rotate(-45deg); }

    .card.marked::before,
    .card.marked::after{ opacity: 1; }

    @media (max-width: 1030px){ :root{ --card-w: 210px; --card-h: 150px; --x-thickness: 8px; } }
    @media (max-width: 900px){  :root{ --card-w: 190px; --card-h: 140px; } }
  </style>
</head>
<body>
  <header>
    <h1>Campus Connect — Spring 2026</h1>
    <p>Click a box to mark it as full (red X). Hold <strong>Ctrl</strong> and left-click to clear. Boxes auto-fit to your screen.</p>
  </header>

  <div class="fit-wrap">
    <div class="fit-scale" id="fitScale">
      <main class="grid" id="grid" aria-label="Campus Connect events (Spring 2026)"></main>
    </div>
  </div>

  <script>
    const events = [
      { title: "EDGE: Get Ready for the Semester", date: "1/15", time: "6:00–7:00 PM" },
      { title: "Chill & Connect", date: "1/22", time: "6:00–7:30 PM" },
      { title: "Campus Clash: Kart Collision", date: "1/24", time: "6:00–8:00 PM" },
      { title: "Campus Clash: Smash Showdown", date: "2/14", time: "6:00–8:00 PM" },
      { title: "Taco Bout' Feelings", date: "2/18", time: "5:00–6:30 PM" },
      { title: "Trivia Night with UWP", date: "2/24", time: "6:00–7:30 PM" },
      { title: "CLCE - Create for a Cause", date: "2/25", time: "6:00–7:00 PM" },
      { title: "Academic Advising", date: "3/3", time: "5:30–7:00 PM" },
      { title: "Don't Rely on Luck: Sleep Smarter", date: "3/17", time: "6:00–7:30 PM" },
      { title: "Campus Clash: Tournament of Champions", date: "3/28", time: "6:00–8:00 PM" },
      { title: "Humans v. Zombies", date: "4/9", time: "5:00–7:00 PM" },
      { title: "EDGE: Finals Prep", date: "4/14", time: "6:00–7:00 PM" },
      { title: "Finals Survival Night", date: "4/28", time: "6:00–8:00 PM" },
    ];

    const grid = document.getElementById('grid');
    const fitEl = document.getElementById('fitScale');
    const headerEl = document.querySelector('header');

    for (const ev of events) {
      const card = document.createElement('div');
      card.className = 'card';
      card.tabIndex = 0;
      card.title = `${ev.title} — ${ev.date}, ${ev.time}`;

      const title = document.createElement('div');
      title.className = 'title';
      title.textContent = ev.title;

      const when = document.createElement('div');
      when.className = 'when';

      const d = document.createElement('span');
      d.className = 'label';
      d.textContent = ev.date;

      const t = document.createElement('span');
      t.className = 'label';
      t.textContent = ev.time;

      when.appendChild(d);
      when.appendChild(t);
      card.appendChild(title);
      card.appendChild(when);
      grid.appendChild(card);
    }

    grid.addEventListener('click', (e) => {
      const card = e.target.closest('.card');
      if (!card) return;
      if (e.ctrlKey) card.classList.remove('marked');
      else card.classList.add('marked');
    });

    grid.addEventListener('keydown', (e) => {
      const card = e.target.closest('.card');
      if (!card) return;
      if (e.key === 'Enter') {
        if (e.ctrlKey) card.classList.remove('marked');
        else card.classList.add('marked');
      }
    });

    function layoutAndFit() {
      const rootStyles = getComputedStyle(document.documentElement);
      const cardW = parseFloat(rootStyles.getPropertyValue('--card-w'));
      const cardH = parseFloat(rootStyles.getPropertyValue('--card-h'));
      const gap   = parseFloat(rootStyles.getPropertyValue('--gap'));

      const N = events.length;
      const maxCols = Math.min(6, N);

      const availableW = document.documentElement.clientWidth - 24;
      const availableH = window.innerHeight - headerEl.offsetHeight - 28;

      let best = { cols: 1, scale: 0 };

      for (let cols = 1; cols <= maxCols; cols++) {
        const rows = Math.ceil(N / cols);
        const neededW = (cols * cardW) + ((cols - 1) * gap) + 16;
        const neededH = (rows * cardH) + ((rows - 1) * gap) + 16;

        const scale = Math.min(1, availableW / neededW, availableH / neededH);

        if (scale > best.scale + 1e-6 || (Math.abs(scale - best.scale) < 1e-6 && cols > best.cols)) {
          best = { cols, scale };
        }
      }

      grid.style.setProperty('--cols', best.cols);
      fitEl.style.transform = `scale(${best.scale})`;
    }

    window.addEventListener('resize', () => requestAnimationFrame(layoutAndFit));
    layoutAndFit();
  </script>
</body>
</html>
